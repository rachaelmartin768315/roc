# +opt infer:print_variables

app "test" provides [main] to "./platform"

f = \{} ->
#^{-1} <1599><116>{} -<119>[[f(1)]]-> <115>[Ok <1607>{}]<79>*
    when g {} is
#        ^ <1589><1607>{} -<1597>[[g(2)]]-> <71>[Ok <1607>{}]<101>*
        _ -> Ok {}

g = \{} ->
#^{-1} <1589><1607>{} -<1597>[[g(2)]]-> <71>[Ok <1607>{}]<101>*
    when h {} is
#        ^ <1594><1607>{} -<1602>[[h(3)]]-> <93>[Ok <1607>{}]<123>*
        _ -> Ok {}

h = \{} ->
#^{-1} <1594><1607>{} -<1602>[[h(3)]]-> <93>[Ok <1607>{}]<123>*
    when f {} is
#        ^ <1599><116>{} -<119>[[f(1)]]-> <115>[Ok <1607>{}]<79>*
        _ -> Ok {}

main = f {}
#      ^ <1609><132>{} -<135>[[f(1)]]-> <137>[Ok <1607>{}]<1608>w_a
